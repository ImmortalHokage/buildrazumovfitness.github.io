(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const c of e)if(c.type==="childList")for(const r of c.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function a(e){const c={};return e.integrity&&(c.integrity=e.integrity),e.referrerPolicy&&(c.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?c.credentials="include":e.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(e){if(e.ep)return;e.ep=!0;const c=a(e);fetch(e.href,c)}})();const b=async i=>new Promise((o,a)=>{const s=document.querySelector("body"),e=document.createElement("script");e.type="module",e.src=i,e.onload=o,s.appendChild(e)}),S=i=>{const o=document.querySelectorAll(`.${i}`);let a=!1,s,e=0;const c=t=>{a&&(a=!1,cancelAnimationFrame(s));const n=t.currentTarget.getBoundingClientRect(),l=(t.clientX-n.left)/n.width,y=((t.clientY-n.top)/n.height-.5)*-60,f=(l-.5)*60,d=t.currentTarget.style.transform||"rotateX(0deg) rotateY(0deg)",p=parseFloat(d.match(/rotateY\(([-\d.]+)deg\)/)||[0,0])[1],m=parseFloat(d.match(/rotateX\(([-\d.]+)deg\)/)||[0,0])[1],g=p*.85+f*.15,v=m*.85+y*.15;t.currentTarget.style.transform=`rotateX(${v}deg) rotateY(${g}deg)`},r=t=>{a=!0;const n=()=>{if(!a)return;e+=.002;const l=Math.sin(e)*1.5,u=Math.cos(e)*1.5;t.style.transform=`rotateX(${u}deg) rotateY(${l}deg)`,s=requestAnimationFrame(n)};n()};o.forEach(t=>{t.style.transformStyle="preserve-3d",t.style.perspective="1000px",t.addEventListener("mousemove",c),t.addEventListener("mouseleave",()=>{const n=()=>{const l=t.style.transform||"rotateX(0deg) rotateY(0deg)",u=parseFloat(l.match(/rotateY\(([-\d.]+)deg\)/)||[0,0])[1],y=parseFloat(l.match(/rotateX\(([-\d.]+)deg\)/)||[0,0])[1];if(Math.abs(u)<.01&&Math.abs(y)<.01){t.style.transform="rotateX(0deg) rotateY(0deg)",r(t);return}const f=u*.9,d=y*.9;t.style.transform=`rotateX(${d}deg) rotateY(${f}deg)`,requestAnimationFrame(n)};n()}),r(t)}),document.addEventListener("click",t=>{t.target.closest(".content-section")&&(a=!1,cancelAnimationFrame(s))}),document.addEventListener("click",t=>{t.target.closest(".sidebar-close")&&o.forEach(n=>{r(n)})})},h=()=>{const i=new Date().getHours(),o=document.querySelector(".greeting");if(!o)return;const s=(e=>e<6?"Good night":e<12?"Good morning":e<16?"Good afternoon":e<=23?"Good evening":"Hello")(i);o.textContent=s,setTimeout(h,6e4)},E=()=>{const i=document.querySelector(".clock");if(!i)return;const o=new Date,a=[o.getHours(),o.getMinutes(),o.getSeconds()].map(s=>s.toString().padStart(2,"0")).join(":");i.textContent=a,setTimeout(E,1e3)},k=()=>{const i=document.querySelector(".menu-button"),o=document.querySelector(".sidebar"),a=document.querySelector(".sidebar-close"),s=document.querySelectorAll(".sidebar-item"),e=document.querySelector(".content-section"),c=document.querySelectorAll(".section");c.forEach(t=>{const n=document.createElement("button");n.className="section-menu-btn",n.innerHTML='<i class="fas fa-bars"></i>',t.appendChild(n),n.addEventListener("click",()=>{o.classList.add("active"),document.body.classList.add("section-active")})});const r=document.createElement("button");r.className="mobile-nav-btn",r.innerHTML='<i class="fas fa-bars"></i>',document.body.appendChild(r),r.addEventListener("click",()=>{o.classList.add("active")}),i.addEventListener("click",()=>{o.classList.add("active"),document.body.classList.add("section-active")}),a.addEventListener("click",()=>{o.classList.remove("active"),e.classList.remove("active"),document.body.classList.remove("section-active")}),s.forEach(t=>{t.addEventListener("click",()=>{const n=t.dataset.section;c.forEach(l=>{l.classList.remove("active")}),document.getElementById(n).classList.add("active"),e.classList.add("active"),document.body.classList.add("section-active"),window.innerWidth<=768&&o.classList.remove("active")})})},q=()=>{const i=document.querySelector(".calculate-btn"),o=document.querySelector(".calculator-results"),a=document.querySelector(".calculator-error"),s=document.querySelector(".error-message"),e=t=>{a.style.display="block",s.textContent=t,o.style.display="none",setTimeout(()=>{a.style.display="none"},3e3)},c=()=>{const t=parseFloat(document.getElementById("weight").value),n=parseFloat(document.getElementById("height").value),l=parseFloat(document.getElementById("age").value),u=document.getElementById("gender").value,y=parseFloat(document.getElementById("activity").value),f=document.getElementById("goal").value;if(!t||!n||!l){e("Пожалуйста, заполните все поля");return}if(t<30||t>250){e("Вес должен быть от 30 до 250 кг");return}if(n<100||n>250){e("Рост должен быть от 100 до 250 см");return}if(l<14||l>100){e("Возраст должен быть от 14 до 100 лет");return}let d;u==="male"?d=10*t+6.25*n-5*l+5:d=10*t+6.25*n-5*l-161;let p=d*y,m;switch(f){case"deficit":m=p-500;break;case"surplus":m=p+500;break;default:m=p}const g=t*2,v=t*1,L=(m-(g*4+v*9))/4;a.style.display="none",document.getElementById("calories").textContent=Math.round(m),document.getElementById("protein").textContent=Math.round(g),document.getElementById("fat").textContent=Math.round(v),document.getElementById("carbs").textContent=Math.round(L),o.style.opacity="0",o.style.display="block",setTimeout(()=>{o.style.opacity="1"},10)};i.addEventListener("click",c),document.querySelectorAll("input, select").forEach(t=>{t.addEventListener("keypress",n=>{n.key==="Enter"&&c()})})},w=()=>{const i=document.querySelectorAll(".filter-btn"),o=document.querySelectorAll(".portfolio-item");i.forEach(a=>{a.addEventListener("click",()=>{i.forEach(e=>e.classList.remove("active")),a.classList.add("active");const s=a.dataset.filter;o.forEach(e=>{s==="all"||e.dataset.category===s?e.style.display="block":e.style.display="none"})})})},A=()=>{const i=document.querySelectorAll(".workout-filter"),o=document.querySelectorAll(".workout-card"),a=document.querySelectorAll(".workout-details-btn");o.forEach(e=>{e.style.display="block",setTimeout(()=>{e.style.opacity="1",e.style.transform="translateY(0)"},100)});const s=document.createElement("div");s.className="workout-modal",s.innerHTML=`
        <div class="workout-modal-content">
            <button class="modal-close">&times;</button>
            <div class="modal-body"></div>
        </div>
    `,document.body.appendChild(s),i.forEach(e=>{e.addEventListener("click",()=>{i.forEach(r=>r.classList.remove("active")),e.classList.add("active");const c=e.dataset.level;o.forEach(r=>{c==="all"||r.dataset.level===c?(r.style.display="block",setTimeout(()=>{r.style.opacity="1",r.style.transform="translateY(0)"},100)):(r.style.opacity="0",r.style.transform="translateY(20px)",setTimeout(()=>{r.style.display="none"},300))})})}),a.forEach(e=>{e.addEventListener("click",()=>{const c=e.closest(".workout-card"),r=c.dataset.level,t=c.querySelector("h3").textContent,n=M(r,t);s.querySelector(".modal-body").innerHTML=n,s.classList.add("active")})}),s.querySelector(".modal-close").addEventListener("click",()=>{s.classList.remove("active")}),s.addEventListener("click",e=>{e.target===s&&s.classList.remove("active")})},M=(i,o)=>{const s={"Базовая программа":{description:"Программа разработана для новичков, фокусируется на освоении базовых движений и развитии общей физической подготовки.",schedule:[{day:"День 1 - Всё тело",exercises:["Приседания 3×10","Отжимания 3×10","Тяга гантелей в наклоне 3×12","Планка 3×30 сек"]},{day:"День 2 - Отдых",exercises:[]},{day:"День 3 - Всё тело",exercises:["Выпады 3×10 на каждую ногу","Подтягивания с помощью 3×8","Жим гантелей 3×12","Скручивания 3×15"]}]}}[o];return s?`
        <h3>${o}</h3>
        <p class="program-description">${s.description}</p>
        <div class="program-schedule">
            ${s.schedule.map(e=>`
                <div class="program-day">
                    <h4>${e.day}</h4>
                    ${e.exercises.length?`
                        <ul>
                            ${e.exercises.map(c=>`<li>${c}</li>`).join("")}
                        </ul>
                    `:"<p>Отдых</p>"}
                </div>
            `).join("")}
        </div>
    `:"<p>Подробная информация будет добавлена позже</p>"},B=async()=>{await b("/fluid.js"),S("perspective"),h(),E(),k(),q(),w(),A()};window.addEventListener("load",B);
